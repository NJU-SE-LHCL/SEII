#需求规格说明模板
##1. 引言

### 1.1 目的

​    本文档描述了酒店预订系统的功能需求和非功能需求。开发小组的软件系统实现与验证工作都以此文档为依据。

​    除特殊说明之外，本文档所包含的需求都是高优先级需求。

​    本文档的预期读者是：

​        · 设计人员

​        · 开发人员

​        · 项目管理人员

​        · 测试人员

​        · 用户



### 1.2 范围

​    酒店预订系统开发的目标是为方便人们出行中的酒店预订，是一家创业公司所开发。



### 1.3 参考文献

​    \1. IEEE标准。



## 2. 总体描述

### 2.1 项目前景

​    这是一个独立的终端系统，为方便客户通过网络预定酒店。

#### 2.1.1 背景与机遇

​    随着工作和生活节奏的加快，人们的差旅出行需要迅速提升，但是传统上的线下 酒店预订模式有着很多不方便之处：

​        \1. 因为目的地往往是外地，无法全面了解当地的酒店情况，选择范围大大受限， 难以选择到最适合的酒店；

​        \2. 提前预订的双方都有风险，酒店担心恶意预订，顾客担心酒店不符合预期； 

​        \3. 酒店要及时掌握预订顾客的行程变化也会比较麻烦，需要频繁的长途联系； 

​        \4. 虽然过去的体验能够给未来带来参考，但是时间一长很多信息就会被遗忘掉， 过去的参考作用就受到限制。（事实上，过去的出行体验会大大影响人们未来 的选择）

​    为了解决这些问题，方便人们出行中的酒店预订，一家创业公司决定开发一个互联网酒店预订系统，它包括一个数据集中服务器和多个客户端。



#### 2.1.2 业务需求

​    BR1：在系统使用3个月后，酒店工作人员工作效率提高50%

​    BR2：在系统使用6个月后，酒店运营成本下降15%

​        范围：人力成本

​        度量：检查平均酒店工作人员数量

​    BR3：在系统使用6个月后，酒店销售额提高20%

​        最好情况：40%

​        最可能情情况：20%

​        最坏情况：10%



### 2.2 项目功能

​    SF1：记录周边酒店信息，并根据客户要求推荐适合酒店

​    SF2：记录客户订单信息，帮助客户预定、退订酒店

​    SF3：帮助客户预订酒店

​    SF4：掌握酒店变动及用户授权情况

​    SF5：让酒店可以及时了解到所有预订订单的变化动态

​    SF6：在系统中补贴费用 帮助酒店进行促销



### 2.3 用户特征

​    客户：需要注册，权限中等，可以进行酒店预订、酒店评价、查询自己的预订信息、历史记录等。

​    酒店工作人员：每个酒店有2~4名酒店工作人员。他们每天都要处理大量的酒店订单，预估计在客流量大的节假日，每小时至少处理5个订单。他们每天还要多次处理取消预约。因为任务较为频繁，而且涉及钱财事宜，所以他们对软件系统的依赖较大。酒店工作人员的计算机技能一般，既无法快速熟练地使用鼠标的定位和拖曳工功能，也无法以盲打键盘的方式工作。

​    网站营销人员：网站有1~2名网站营销人员。他们在每年长假期期间或重大节日期间，制定网站促销策略，并且负责客户的信用充值。同时，没到节假日，每天大概处理几十起异常订单的执行，浏览每日未执行订单的情况，并处理线下的异常订单申诉。网站营销人员的计算机技能较好。

​    网站管理人员：整个系统有一个网站管理人员，他的工作是管理用户信息，添加酒店及其工作人员，查询、更改酒店工作人员信息。网站管理人员是计算机专业维护人员，计算机技能很好。



### 2.4 约束

​    CON1： 系统将运行在Window Xp操作系统上。

​    CON2： 系统不使用Web界面，而是图形界面

​    CON3： 项目要使用持续集成方法进行开发

​    CON4： 在开发中，开发者要提交软件需求规格说明文档、设计描述文档和测试报告



### 2.5 假设与依赖

​        AE1： 管理员及时更新数据库



## 3 详细需求描述

### 3.1 对外接口需求
#### 3.1.1 用户界面 
本系统采用的是图形用户界面,总体色调偏白色,给人感觉较为轻松,让客户在订购过程更加舒适，页面上有丰富的按钮作为操作选项,目的是为了用户能够使用系统时能简单上手不需要专门的培训,就可以在 10 分钟内完成任一个操作任务。
#### 3.1.2 通信接口
客户端与服务器之间用RMI方式进行通信，该系统可在WEB浏览
#### 3.1.3 软件接口
数据库：本系统采用MYSQL数据库进行开发
操作系统：开发系统位Windows 10
前端：使用VUE框架
后端：使用SPRING BOOT框架
工具：IntelliJ IDEA、WebStorm等
### 3.2 功能需求
#### 3.2.1  个人基本信息用例

##### 3.2.1.1 特征描述

​    在客户登录系统后，客户可选择浏览、维护基本信息，或对订单进行浏览、撤销相关的操作。



##### 3.2.1.2 刺激/响应序列

​    刺激：客户选择维护个人基本信息

​    响应：系统显示客户基本信息（姓名或名称、联系方式、信用）

​    刺激：客户选择浏览自己未执行的正常订单

​    响应：系统显示订单信息

​    刺激：客户选择浏览自己已执行的正常订单

​    响应：系统显示订单信息

​    刺激：客户选择浏览自己已撤销订单

​    响应：系统显示订单信息

​    刺激：客户选择撤销自己未执行的正常订单

​    响应：系统显示客户信息（信用值、历史记录）



##### 3.2.1.3 相关功能需求

| hotel.Input                 | 系统应该允许客户在预订时进行键盘输入                         |
| --------------------------- | ------------------------------------------------------------ |
| hotel.Input.Payment         | 在客户结束预订后，系统要执行结账任务，参见 Sale.payment      |
| hotel.Input.Cancle          | 在客户取消预订后，系统关闭当前预订任务，开始一个新的预订任务 |
| hotel.Input.Del             | 在客户选择删除已选择房间命令后，执行删除已选中房间命令，参见 Sale.Del |
| hotel.Input.Rooms           | 在客户选择酒店目录中存在的房间时，系统执行选择房间任务，参见Sale.Goods |
| hotel.Input.Invalid         | 在客户选择已被预订完的房间时，系统显示输入无效               |
|                             |                                                              |
| hotel.Payment.Null          | 在客户未选择任何房间就结束预订时，系统不做任何处理           |
| hotel.Payment.Goods         | 在客户选择房间结束预订后，系统要执行结账任务                 |
| hotel.Payment.Gift          | 系统处理系统补贴费用                                         |
| hotel.Payment.Check         | 系统计算总价，显示订单信息，执行结账任务，参见 Sale.Check    |
| hotel.Payment.End           | 系统完成结账任务后，客户可以请求结束预定任务，系统执行结束预定任务处理，参见 Sale.End |
|                             |                                                              |
| hotel.Del.Goods             | 客户从订单列表中选择删除已选中房间时，系统在订单列表中删除该房间 |
|                             |                                                              |
| hotel.Rooms                 | 系统显示已选择的房间信息                                     |
| hotel.Rooms.Num             | 如果客户同时选择了大于等于1的房间，系统修改房间的数量为输入值，否则系统设置房间数量为1 |
| hotel.Rooms.Subtotal        | 系统计算房间分项总价为（房间的价格 ✖️ 房间的数量）            |
| hotel.Rooms.List            | 在显示房间信息0.5秒之后，系统显示订单列表，并将新选择房间添加到列表中 |
| hotel.Rooms.List.Caleculate | 系统计算订单列表的总价，参见 Sale.Calculate                  |
|                             |                                                              |
| hotel.Calculate             | 系统逐一处理预订任务的订单列表，并计算其总价                 |
| hotel.Calculate.Null        | 在订单列表中没有房间信息时，系统计算总价为0                  |
|                             |                                                              |
| hotel.Check                 | 系统计算并显示预订的订单信息                                 |
| hotel.Check.Cancle          | 客户输入取消命令时，系统回到预定任务，不做任何处理，参见 Sale.Input |
| hotel.Check.End             | 在客户请求结束预订时，系统计算账单                           |
|                             |                                                              |
| hotel.End                   | 系统应该允许客户要求结束预订任务                             |
| hotel.End.Timeout           | 在预订开始2小时后还没有接受到客户请求时，系统取消预订任务    |
| hotel.End.Update            | 在客户要求结束预定任务时，系统更新数据，参见 Sale.Update     |
| hotel.End.Close             | 在客户确认预定任务完成时，系统关闭预订任务，参见 Sale.Close  |
|                             |                                                              |
| hotel.Update                | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新 |
| hotel.Update.Sale           | 系统更新销售信息                                             |
| hotel.Update.SaleItems      | 系统更新订单                                                 |
| hotel.Update.Catalog        | 系统更新库存信息                                             |
| hotel.Update.Payment        | 系统更新账单信息                                             |
|                             |                                                              |
| hotel.Close.Print           | 系统打印订单收据，参见ICI                                    |
| hotel.Close.Next            | 系统关闭本次预订任务，开始新的预定任务                       |

#### 3.2.2 浏览酒店详细信息
##### 3.2.2.1 特性描述

在顾客身份已被识别，且目标商圈或地址已被明确后，系统以列表方式显示可选酒店基本信息，提供按条件筛选功能，，可在列表中选择一家酒店查看详细信息

#### 3.2.2.2 刺激/响应序列

刺激：客户输入目标商圈或地址
响应：系统显示地段内可选酒店列表和对应基本信息
刺激：客户输入筛选条件
响应：系统重新生成可选酒店列表并显示
刺激：客户选择酒店查看信息
响应：跳转至酒店详细信息界面
刺激：客户取消查看当前酒店详细信息
响应：重新显示酒店列表
刺激：客户点击某家酒店预定按钮
响应: 跳转至预定处理界面

#### 3.2.2.3 相关功能需求

1. 酒店基本信息包括酒店评分、起价、距目的地距离等
2. 酒店列表中可以显示历史预定标记,要标记该酒店自己是否曾经预定过（正常订单、异常订单和撤销订单要分别标记）
3. 查看某一酒店详细信息时要列出所有自己在该酒店的订单（正常订单、异常订单和撤销订单要分别标记）
4. 筛选条件中提供特定选项，可以专门列表查看自己预定过的酒店（正常订单、异常订单和撤销订单要分别标记）
5. 可以在列表中，也可以在选定的酒店详情中，生成订单

#### 3.2.3 制定酒店促销策略

##### 3.2.3.1 特征描述

工作人员制定客户生日特惠折扣

##### 3.2.3.2 刺激/响应序列

刺激：酒店工作人员选择修改或新增客户生日特惠策略

响应：系统显示客户生日特惠折扣

刺激：酒店工作人员选择折扣为打折或直接减金额

响应：系统显示折扣更新成功并跳转至初始界面

##### 3.2.3.3 相关功能需求

| 方法名                                   | 功能                         |
| ---------------------------------------- | ---------------------------- |
| bl.coupon.TimeCouponStrategyImpl.ismatch | 判断订单是否符合某种限时优惠 |
| po.Coupon.setStartTime()                 | 设置优惠券生效日期           |
| po.Coupon.setEndTime()                   | 设置优惠券失效日期           |
| po.Coupon.setDescriptioin()              | 设置优惠券描述               |
| po.Coupon.setCouponName()                | 设置优惠券名称               |
| po.Coupon.setDiscountMoney()             | 设置优惠券金额               |
| po.Coupon.setHotelId()                   | 设置是否是网站推出的优惠     |
| po.Coupon.setStatus()                    | 设置优惠券是否已经失效       |
| po.Coupon.CouponType()                   | 设置优惠券类型               |
| po.Coupon.setDiscount()                  | 设置折扣                     |


#### 3.2.4 浏览订单

##### 3.2.4.1 特性描述

   一个已经验证的酒店工作人员浏览自己所在酒店的所有订单(包括未执行、已执行、异常、撤销的订单)  
   优先级=中

##### 3.2.4.2 刺激/响应序列

   刺激：酒店工作人员选择浏览酒店所有订单信息
   响应：系统显示酒店的所有订单信息
   刺激：酒店工作人员选择查看任何一个订单的状态
   响应：系统显示订单状态 

##### 3.2.4.3 相关功能需求

|          编号                  |                需求描述                                      |
| --------------------------     | ------------------------------------------------------------ |
| HotelServiceImpl.getHotelOrders| 酒店工作人员请求浏览酒店订单信息时，系统显示酒店信息         |
| Order.getOrderState            | 酒店工作人员选择查看订单状态时，系统显示对应的订单的状态     |

#### 3.2.5 订单执行

##### 3.2.5.1 特性描述

   客户已入住后，一个身份得到验证的对应酒店的工作人员将该客户的订单状态改为已执行
   优先级=高

##### 3.2.5.2 刺激/响应序列

   刺激：酒店工作人员选择确认客户已入住后输入订单状态为已执行   
   响应：系统将订单状态改变为已执行 

##### 3.2.5.3 相关功能需求

|           编号             |   需求描述                                                   |
| -------------------------- | ------------------------------------------------------------ |
| Order.setOrderState        | 酒店工作人员线下确认客户已入住时，输入订单状态为已执行，系统改变对应订单状态为已执行|

#### 3.2.6 制定网站促销策略

##### 3.2.6.1 特性描述

   在需要进行网站促销时，一个经过验证的网站营销人员制定或更新促销策略，系统更新调整后的促销策略
   优先级=中

##### 3.2.6.2 刺激/响应序列

   刺激：网站营销人员请求制定网站促销策略
   响应：系统显示网站促销策略列表
   刺激：网站营销人员请求增加一个促销策略
   响应：系统在促销策略列表中增加一个促销策略
   刺激：网站营销人员编辑新增加的促销策略 
   响应：系统更新促销策略列表中新策略的信息显示
   刺激：网站营销人员删除一个已有促销策略
   响应：系统将该促销策略从促销策略列表中移除 
   刺激：网站营销人员取消制定促销策略任务 
   响应：系统关闭制定促销策略任务
   刺激：网站营销人员确认完成促销策略制定 
   响应：系统记录促销策略信息，关闭制定促销策略任务 

##### 3.2.6.3 相关功能需求

| 编号                            | 需求描述                                                      |
| --------------------------      | ------------------------------------------------------------  |
| Promotion.Select                |在网站营销人员请求制定一个网站促销策略时，系统显示促销策略列表     |
| Promotion.New                   |在网站营销人员请求增加新的促销策略时，系统在促销策略列表中增加新的促销策略，并标记为“New”状态|
| Promotion.Del                   |在网站营销人员请求删除已有的促销策略时，系统在促销策略列表中移除指定的促销策略|
| Promotion.Edit                  |系统应该允许网站营销人员编辑列表中状态为“New”状态的促销策略     |
| Promotion.Cancle                |在网站营销人员请求取消促销策略定制时，系统应该关闭定制促销策略服务|
| Promotion.Confirm               |系统应该允许网站营销人员确认制定促销策略结束                  |
|                                 |                                                              |
| Promotion.Confirm.Invalid       |在促销列表中“New”状态策略数据没有全部通过检查时，系统提示有促销策略数据不完整或不正确|
| Promotion.Confirm.Valid         |在促销列表中所有“New"状态策略数据都通过检查时，系统更新数据，关闭促销策略制定任务|
|                                 |                                                               |
| Promotion.Valid                 |系统应该验证每个促销策略的数据完整性和一致性                  |
| Promotion.Valid.StartDate       |在促销策略的开始日期为空或者开始日期晚于等于当天60天时，系统提示开始日期不正确，验证不通过|
| Promotion.Valid.EndDate         |在促销策略的结束日期为空或者结束日期早于等于当天时，系统提示结束日期不正确，验证不通过|
| Promotion.Valid.websiteDiscount |折扣后价格为空或者折扣后<=0或者折扣后特价>=价格时，系统提示特价不正确，验证不通过|
|                                 |                                                              |
| Promotion.Update                |系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新 |
| Promotion.Update.websiteDiscount|系统更新酒店的网站促销策略                                        |


### 3.3 非功能需求

#### 3.3.1  安全性       

   Safety1：系统应该只允许经过验证和授权的用户访问。

   Safety2：用户只能查看和维护自己的信息。

   Safety3：酒店工作人员只能处理其所指定酒店的工作。

   Safety4：网站管理人员不能修改用户的信用值。

   Safety5：为防信息泄露，用户的账号、密码、姓名（名称）、联系方式必须密文存储。

   Safety6：系统中有一个默认的管理员账户，只允许管理员用户修改指令。 
                    
#### 3.3.2  可维护性

   Modifiability1：如果系统要增加或改变酒店促销策略和网站营销策略，要能在0.5个人月内完成。

#### 3.3.3  易用性

   Usability1：所有类型人员都不需要专门的培训，就可以在 10 分钟内完成任一个操作任务。
                  
#### 3.3.4  可靠性

   Reliability1：网络畅通，不会发生故障。
   Reliability2：所有操作任务的完成时间不会超过1个小时，即使用暂停与中断不会超过1个小时。
   Reliability3：地址中的城市和商圈比较固定，事先被预置在系统数据中，且少量修改直接在后台数据中进行，不需要系统提供维护功能。

#### 3.3.5  业务规则
    BR1：适用的酒店的网站促销策略
         酒店在网站促销策略的酒店列表里且预定日期晚于策略开始日期早于策略结束日期
    BR2：适用的客户的酒店促销策略
         客户的个人信息中的生日与当天日期一致     
    BR3：撤销订单处理约定
         早于订单执行日期均可撤销，但撤销时间距离执行日期不足六个小时则扣除订单价值*0.5的信用值    
#### 3.3.6  约束
    IC1：系统要在网络上分布一个服务器和多个客户端。
    IC2：在开发过程中缺少可用的打印机，需要使用文件系统模拟打印机。

### 3.4  数据需求

#### 3.4.1  数据定义

DR1:系统需要存储的数据实体及其关系如下图：
![](http://picbag.oss-cn-beijing.aliyuncs.com/Q2SS049RMOW%60KL%7DPXWV%28Y1W.png)
![](http://picbag.oss-cn-beijing.aliyuncs.com/G1MM733A6RWP%5DV0L%298A64L9.png)
![](http://picbag.oss-cn-beijing.aliyuncs.com/JT%6083T_RR%28%60%60LI%28CDM%7D%5DNAV.png)

DR2:系统需要存储1年内的订单记录，包括退订记录

DR3:系统删除后的酒店目录数据和用户数据仍要继续存储3个月，以保证历史数据显示的正确性

#### 3.4.2  默认数据

默认数据用于以下两种情况：
1.系统中增加新数据时，进行初始化
2.该数据被清空时
Default1：酒店默认星数默认为0
Default2：所有价格默认为0
Default3: 所有身份相关信息，如姓名、账号吗、密码等默认为NULL
Default4: 时间默认为当天
Default5: 客房数量默认为0
Default6： 信用评价默认为中
Default7： 酒店特殊服务默认为无

#### 3.4.3  数据格式要求

Format1：订单号为8位16进制的数字，将来如果无法满足系统处理订单数的需求，订单表示格式要修改为13位16禁止的数字
Format2：取消订单原因必须为与描述不符、对服务不满意、我不想要了、发票问题和其他
Format3: 价格和费用的格式必须为大于等于0，精确到小数点后两位的浮点数，单位为元
Format4：数量的格式必须是非负整数
Format5: 日期的格式位year-month-day

### 3.5  其他

1.酒店促销策略和网站营销策略将来会出现新的类型
2.分布式部署:用户、酒店工作人员、网站营销人员、网站管理人员分布在不同的地方，所以要提供各自的应用部署。
 i. 用户、酒店工作人员、网站营销人员、网站管理人员都在 PC 机上使用本系统，都不使用 WEB。
 ii. 用户、酒店工作人员、网站营销人员、网站管理人员的 PC 机以及服务器上都没有安装 Java 运行环境。